# Breakpoint Action

A GitHub Action that downloads the `breakpoint` binary and runs it to enable SSH-based debugging of CI workflows.

## Build

After making changes to the source code, run `npm run build` to update the generated code in `dist/`.

## Typecheck

Run `npx tsc --noEmit` to typecheck without emitting files.

## Lint / Format

- `npm run lint` — ESLint
- `npm run format-check` — Prettier check
- `npm run format` — Prettier auto-fix

## Structure

- `main.ts` — Entry point: downloads the breakpoint binary and runs it.
- `post.ts` — Post-action hook: in background mode, holds until active SSH connections finish, then stops breakpoint.
- `lib.ts` — Shared utilities (e.g. `getModeFromInput`).
- `action.yml` — Action definition with inputs.
- `dist/` — Bundled output generated by `@vercel/ncc`. Do not edit directly.

## Key Details

- The default breakpoint binary version is hardcoded in `main.ts` (`defaultBreakpointVersion`). It can be overridden at runtime via the `BREAKPOINT_VERSION` environment variable.
- Bundling uses `@vercel/ncc` to produce single-file outputs in `dist/main/` and `dist/post/`.
